<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>XXXXXX平台</title>
<script type="text/javascript" src='dist/loadcss.js'></script>
</head>
<body class="layui-layout-body" layui-admin-skin="">
<div class="layui-layout layui-layout-admin">
  <div class="layui-header">
    <div class="layui-logo">
      <i class="icomoon-icon im-w f30 vertical-middle">&#xe905;</i>
      <span class="f20 vertical-middle">XXXXXX平台</span>
    </div>
    <!-- 头部区域（可配合layui已有的水平导航） -->
    <ul class="layui-nav layui-layout-left">
      <li class="layui-nav-item"><a href="">xxx菜单</a></li>
      <li class="layui-nav-item"><a href="">xxx菜单</a></li>
      <li class="layui-nav-item"><a href="">xxx菜单</a></li>
    </ul>
    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item layui-hide-xs">
            <a href="javascript:;" data-role="change-theme">
              <i class="layui-icon layui-icon-theme"></i>
            </a>
          </li>
      <li class="layui-nav-item">
        <a href="javascript:;">
          <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
          贤心
        </a>
        <dl class="layui-nav-child">
          <dd><a href="">个人资料</a></dd>
          <dd><a href="">休息一下</a></dd>
          <dd><a href="">退出系统</a></dd>
        </dl>
      </li>
    </ul>
  </div>
  
  <div class="layui-side">
    <div class="layui-side-scroll">
      <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
      <ul class="layui-nav layui-nav-tree" data-role="side-menu">
        <li class="layui-nav-item layui-nav-itemed">
          <a href="javascript:;">设计例子</a>
          <dl class="layui-nav-child">
            <dd class="layui-this">
              <a href="iframe-page.html">框架页</a>
            </dd>
            <dd>
              <a href="list-page.html">列表页</a>
            </dd>
            <dd><a href="details-page.html">详细页</a></dd>
            <dd><a href="zTree-page.html">树形结构</a></dd>
            <dd><a href="content-to-be-created.html">内容建设中</a></dd>
            <dd><a href="verify-form-page.html">自定义验证表单</a></dd>
            <dd><a href="add-notice.html">新增通知</a></dd>
            <dd>
              <a href="print-page.html">打印收据</a>
            </dd>
            <dd>
              <a href="print-cert-page.html">打印学生证</a>
            </dd>
          </dl>
        </li>
        <li class="layui-nav-item layui-nav-itemed">
          <a href="javascript:;">课程页面</a>
          <dl class="layui-nav-child">
            <dd><a href="course-construction.html">课程建设</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item layui-nav-itemed">
          <a href="javascript:;">直播页面</a>
          <dl class="layui-nav-child">
            <dd><a href="add-living-broadcast.html">新增直播</a></dd>
            <dd><a href="living-broadcast-details.html">直播详情</a></dd>
          </dl>
        </li>
      </ul>
    </div>
  </div>

  <div class="layui-body overlay-wrapper" data-id="cdq-layui-body" style="bottom:0;overflow:hidden;background-color: #ecf0f5;">
    <iframe class="cdq-page-iframe" name="cdq-page-iframe" src="about:blank" frameborder="0" scrolling="auto" allowtransparency="true"></iframe>
    <div class="overlay" style="display:none;">
      <i class="layui-icon layui-anim layui-anim-rotate layui-anim-loop">&#xe63d;</i>
    </div>
  </div>
</div>
<script type="text/javascript" src='dist/loadjs.js'></script>
<script type="text/javascript">
//点击加载页面
$('[data-role="side-menu"]').on('click', 'a:not([href^=javascript])', function(event) {
  event.preventDefault();

  loadPage($(this).attr('href'));
});

loadPage( $('[data-role="side-menu"] a:not([href^=javascript])').eq(0).attr('href') );

/* 页面加载方法 */
function loadPage(url){
  var $container=$('[data-id="cdq-layui-body"]');

  var $loading=$container.children(".overlay");

  if($loading.length<=0){
    $loading=$('<div class="overlay" style="display:none;"><i class="layui-icon layui-anim layui-anim-rotate layui-anim-loop">&#xe63d;</i></div>');
    $container.prepend($loading);
  }

  $loading.show();

  $(".cdq-page-iframe")
  .attr('src',url)
  .on('load',function(){
    $loading.hide();
  })
}

layui.use(['laytpl','layer'], function(){
  var laytpl = layui.laytpl,
      layer = layui.layer;
  $('[data-role="change-theme"]').on('click', function(event) {
    event.preventDefault();

    var themes={
      list:[
        {
          name:'blue',
          layout:{
            header:'#3c8dbc',
            sidebar:'#222d32',
            logoArea:'#3884b0',
            footer:'',
          }
        },
        {
          name:'ocean',
          layout:{
            header:'#1E9FFF',
            sidebar:'#344058',
            logoArea:'#0085E8',
            footer:'',
          }
        },
        {
          name:'fashion-red',
          layout:{
            header:'#AA3130',
            sidebar:'#20222a',
            logoArea:'#16181d',
            footer:'',
          }
        },
        {
          name:'dark-blue',
          layout:{
            header:'#031326',
            sidebar:'#031326',
            logoArea:'#020e1a',
            footer:'',
          }
        },
        
        {
          name:'green',
          layout:{
            header:'#00877b',
            sidebar:'#282b33',
            logoArea:'#00786d',
            footer:'',
          }
        },
        {
          name:'purple',
          layout:{
            header:'#326bda',
            sidebar:'#031326',
            logoArea:'#255ecd',
            footer:'',
          }
        }
      ]
    }

    var popHtml=laytpl($('#demo').html()).render(themes);

    layer.open({
      title: '配色方案'
      ,content: popHtml
      ,type:1
      ,anim: 2
      ,offset: 'rb'
      ,btn:false
      ,shade:0.01
      ,shadeClose:true
      ,area: ['300px']
    });

    //选中样式
    $(document).on('click', '[data-role="theme-item"]', function(event) {
      var theme=$(this).data('theme-name');
      $(this).addClass('on').siblings().removeClass('on');
      $('body').attr('layui-admin-skin', theme);
      layer.msg('选中皮肤："'+theme+'"');
    });
  });
});
</script>

<script id="demo" type="text/html">
  <div class="padding20">
    <ul class="layui-clear themes-list">
      {{#  layui.each(d.list, function(index, item){ }}
        <li data-role="theme-item" data-theme-name="{{ item.name }}" title="{{ item.name }}">
          <div>
            <span class="position-absolute full-width" style="
              background-color:{{ item.layout.header }};
              top:0;
              left:0;
              height:10px;
            "><!--{{ item.layout.header }}--></span>

            <span class="position-absolute" style="
              background-color:{{ item.layout.logoArea }};
              top:0;
              left:0;
              height:10px;
              width:20px;
            "><!--{{ item.layout.logoArea }}--></span>

            <span class="position-absolute" style="
              background-color:{{ item.layout.sidebar }};
              top:10px;
              bottom:0;
              left:0;
              width:20px;
            "><!--{{ item.layout.sidebar }}--></span>
          </div>
        </li>
      {{#  }); }}
    </ul>
  </div>
</script>
<style type="text/css">
  .themes-list{
    margin:-5px;
  }
  .themes-list > li{
    padding:5px;
    width:33.3333%;
    float:left;
    box-sizing: border-box;
    cursor: pointer;
    position: relative;
  }
  .themes-list > li.on:after,
  .themes-list > li:hover:after{
    top: 1px;
    left: 1px;
    bottom: 1px;
    right: 1px;
    border:1px solid #5FB878;
    content: '';
    position:absolute;
  }
  .themes-list > li > div{
    background-color: #f2f2f2;
    height:50px;
    position: relative;
  }
</style>
</body>
</html>
